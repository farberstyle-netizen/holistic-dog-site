<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holistic Therapy Dog Association | Official Certification</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Prevent horizontal overflow */
        html, body {
            overflow-x: hidden;
            max-width: 100vw;
        }

        /* Hero wrapper - tall enough for all 6 images */
        .hero-wrapper {
            margin-top: 80px;
            position: relative;
            height: 500vh; /* 6 images, ~83vh scroll per image */
        }

        /* Fixed viewport for images */
        .hero-viewport {
            position: fixed;
            top: 80px;
            left: 0;
            width: 100vw;
            height: calc(100vh - 80px);
            overflow: hidden;
            z-index: 1;
        }

        .hero-viewport.hidden {
            display: none;
        }

        /* Each image layer */
        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        .hero-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
        }

        .hero-slide.active {
            opacity: 0.5;
        }

        /* Dark overlay that increases during transitions */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(75, 0, 0, 0.3);
            z-index: 2;
            transition: background 0.3s ease;
        }

        .hero-overlay.darkening {
            background: rgba(0, 0, 0, 0.7);
        }

        /* FIXED text box */
        .fixed-hero-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .fixed-hero-content.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Floating text box */
        .hero-content-box {
            background: rgba(75, 0, 0, 0.92);
            padding: 3rem 4rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            max-width: 520px;
            width: 85vw;
            pointer-events: auto;
        }

        .hero-content-box h1 {
            font-family: var(--font-heading);
            font-size: clamp(1.8rem, 4vw, 2.6rem);
            margin: 0 0 1rem 0;
            color: white;
        }

        .hero-content-box p {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 1.8rem;
            line-height: 1.6;
        }

        .hero-content-box .cta-button {
            font-size: 1.05rem;
            padding: 14px 36px;
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
            color: white;
            text-align: center;
            animation: bounce 2s infinite;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }

        .scroll-indicator.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .scroll-indicator svg {
            width: 32px;
            height: 32px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        /* Progress dots */
        .scroll-progress {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .scroll-progress.hidden {
            display: none;
        }

        .progress-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }

        .progress-dot.active {
            background: var(--accent-gold);
            transform: scale(1.3);
        }

        @media (max-width: 768px) {
            .hero-wrapper {
                margin-top: 70px;
                height: 400vh;
            }
            .hero-viewport {
                top: 70px;
                height: calc(100vh - 70px);
            }
            .hero-content-box {
                padding: 2rem 1.5rem;
                width: 90vw;
            }
            .hero-content-box h1 {
                font-size: 1.5rem;
            }
            .hero-content-box p {
                font-size: 0.95rem;
            }
            .scroll-progress {
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="nav-container">
            <a href="index.html" class="logo">Holistic Therapy<br>Dog Association</a>
            <nav>
                <ul id="nav-links"></ul>
            </nav>
            <div class="nav-account" id="nav-account-links"></div>
        </div>
    </header>

    <div class="hero-wrapper">
        <!-- This div just creates scroll height -->
    </div>

    <!-- Fixed viewport with all 6 images -->
    <div class="hero-viewport" id="heroViewport">
        <div class="hero-slide active" data-slide="0">
            <img src="diploma-hero-01.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-slide" data-slide="1">
            <img src="diploma-hero-02.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-slide" data-slide="2">
            <img src="diploma-hero-03.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-slide" data-slide="3">
            <img src="diploma-hero-04.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-slide" data-slide="4">
            <img src="diploma-hero-05.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-slide" data-slide="5">
            <img src="diploma-hero-06.jpg" alt="Holistic Therapy Dog Certificate">
        </div>
        <div class="hero-overlay" id="heroOverlay"></div>
    </div>

    <!-- FIXED text box -->
    <div class="fixed-hero-content" id="fixedHeroContent">
        <div class="hero-content-box">
            <h1>Where Loyalty Meets Legacy</h1>
            <p>Certify their Dedication and Devotion</p>
            <button onclick="startCertification()" class="cta-button">Start HERE</button>
        </div>
    </div>

    <!-- Progress dots -->
    <div class="scroll-progress" id="scrollProgress">
        <div class="progress-dot active" data-dot="0"></div>
        <div class="progress-dot" data-dot="1"></div>
        <div class="progress-dot" data-dot="2"></div>
        <div class="progress-dot" data-dot="3"></div>
        <div class="progress-dot" data-dot="4"></div>
        <div class="progress-dot" data-dot="5"></div>
    </div>

    <!-- Scroll indicator -->
    <div class="scroll-indicator" id="scrollIndicator">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
        </svg>
    </div>

    <section class="trust-section">
        <h2>Committed to Excellence</h2>
        <div class="icons-grid">
            <div class="icon-card">
                <img src="doctor.png" alt="Holistic Wellness Icon">
                <h3>Holistic Focus</h3>
                <p>Honoring the therapeutic bond between dogs and humans—recognizing their profound impact on emotional, mental, and spiritual well-being.</p>
            </div>

            <div class="icon-card">
                <img src="judge.png" alt="Trust and Integrity Icon">
                <h3>Trusted</h3>
                <p>Every certification is reviewed with integrity to ensure it reflects the genuine bond between you and your dog.</p>
            </div>

            <div class="icon-card">
                <img src="globe.png" alt="World-Class Standards Icon">
                <h3>World-Class Standards</h3>
                <p>A globally accessible database validating your dog's certification—maintaining excellence and credibility worldwide.</p>
            </div>
        </div>
    </section>

    <section class="diploma-preview">
        <div class="diploma-container">
            <h2>Learn How to Certify Your Dog</h2>
            <p class="section-intro">Take the Quiz!</p>
            
            <a href="quiz.html" class="cta-button" style="margin-bottom: 2rem;">Start Quiz</a>
            
            <div style="max-width: 900px; margin: 0 auto;">
                <img src="hero2.png" alt="Official HTDA Diploma" style="width: 100%; border-radius: 8px; box-shadow: 0 20px 60px rgba(0,0,0,0.2);">
            </div>
        </div>
    </section>

    <footer></footer>

    <div id="choiceModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <h3>Welcome Back!</h3>
            <p>Would you like to certify another dog, or view your current account?</p>
            <div class="modal-actions">
                <button onclick="goToQuiz()" class="modal-btn btn-primary">YES, I want to certify another dog</button>
                <button onclick="goToDashboard()" class="modal-btn btn-secondary">NO, take me to my account</button>
            </div>
        </div>
    </div>

    <script src="header.js"></script>
    <script src="footer.js"></script>
    <script>
        // Scroll-controlled carousel
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.progress-dot');
        const heroWrapper = document.querySelector('.hero-wrapper');
        const heroViewport = document.getElementById('heroViewport');
        const heroOverlay = document.getElementById('heroOverlay');
        const fixedHeroContent = document.getElementById('fixedHeroContent');
        const scrollIndicator = document.getElementById('scrollIndicator');
        const scrollProgress = document.getElementById('scrollProgress');
        
        const totalSlides = slides.length;
        let currentSlide = 0;
        
        function updateCarousel() {
            const scrollY = window.scrollY;
            const heroTop = heroWrapper.offsetTop - 80; // Account for header
            const heroHeight = heroWrapper.offsetHeight;
            const heroBottom = heroTop + heroHeight;
            
            // Calculate progress through the hero section (0 to 1)
            const scrollInHero = scrollY - heroTop;
            const progress = Math.max(0, Math.min(1, scrollInHero / heroHeight));
            
            // Determine which slide should be active (0-5)
            const slideProgress = progress * totalSlides;
            const newSlide = Math.min(Math.floor(slideProgress), totalSlides - 1);
            
            // Calculate transition progress within current slide (0 to 1)
            const transitionProgress = slideProgress - newSlide;
            
            // Update slides
            slides.forEach((slide, index) => {
                if (index === newSlide) {
                    slide.classList.add('active');
                    // Fade out as we approach next slide
                    if (transitionProgress > 0.7 && index < totalSlides - 1) {
                        const fadeOut = (transitionProgress - 0.7) / 0.3; // 0 to 1 in last 30%
                        slide.style.opacity = 0.5 * (1 - fadeOut * 0.5);
                    } else {
                        slide.style.opacity = 0.5;
                    }
                } else if (index === newSlide + 1 && transitionProgress > 0.7) {
                    // Next slide fading in
                    slide.classList.add('active');
                    const fadeIn = (transitionProgress - 0.7) / 0.3;
                    slide.style.opacity = 0.5 * fadeIn;
                } else {
                    slide.classList.remove('active');
                    slide.style.opacity = 0;
                }
            });
            
            // Darken overlay during transitions
            if (transitionProgress > 0.7 && transitionProgress < 1 && newSlide < totalSlides - 1) {
                heroOverlay.classList.add('darkening');
            } else {
                heroOverlay.classList.remove('darkening');
            }
            
            // Update progress dots
            dots.forEach((dot, index) => {
                if (index === newSlide) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
            
            currentSlide = newSlide;
            
            // Show/hide hero elements based on scroll position
            if (scrollY < heroTop || scrollY > heroBottom - window.innerHeight * 0.3) {
                heroViewport.classList.add('hidden');
                fixedHeroContent.classList.add('hidden');
                scrollProgress.classList.add('hidden');
                scrollIndicator.classList.add('hidden');
            } else {
                heroViewport.classList.remove('hidden');
                fixedHeroContent.classList.remove('hidden');
                scrollProgress.classList.remove('hidden');
                
                // Hide scroll indicator after first few scrolls
                if (scrollY > heroTop + window.innerHeight * 0.5) {
                    scrollIndicator.classList.add('hidden');
                } else {
                    scrollIndicator.classList.remove('hidden');
                }
            }
        }
        
        window.addEventListener('scroll', updateCarousel);
        window.addEventListener('resize', updateCarousel);
        updateCarousel();

        // Modal functions
        const modal = document.getElementById('choiceModal');
        function startCertification() {
            const token = localStorage.getItem('session_token');
            if (token) {
                modal.style.display = 'flex';
            } else {
                window.location.href = 'quiz.html';
            }
        }

        function closeModal() { modal.style.display = 'none'; }
        function goToQuiz() { window.location.href = 'quiz.html'; }
        function goToDashboard() { window.location.href = 'dashboard.html'; }
        window.onclick = function(event) { if (event.target == modal) modal.style.display = "none"; }
    </script>
</body>
</html>
